var t=t=>new Proxy(t,{set:function(t,e,n){return Object.defineProperty(t,e,{value:n,writable:!1})}}),e=t=>"function"==typeof t,n=t=>null!=t&&t===t.window,r=t=>null!=t&&"object"==typeof t,s=t=>{if(r(t)){const e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}return!1};const $=t((function t(r,o){if(this instanceof t){let a,i=[];if(r)if("string"==typeof r)if("<"!==r[0]){let t=o?$(o):[document],e=t.length;for(;e--;)i=[...t[e].querySelectorAll(r),...i]}else null!==(a=r.match(/^<([a-z0-9]+)(( ?\/)?|><\/\1)>$/i))?(i=[document.createElement(a[1])],o&&s(o)&&$(i).attr(o)):i=((t,e,n=!1)=>{"boolean"==typeof e&&(n=e,e=null),e||(e=document.implementation.createHTMLDocument(""));const r=e.createElement("div");return r.innerHTML=t,n&&t.includes("<script")&&r.querySelectorAll("script").forEach((t=>{const n=t.getAttribute("src"),r=e.createElement("script");n?r.src=n:r.text=t.innerText,e.head.appendChild(r)})),[...r.children]})(r,o||document,!0);else r instanceof t?i=Array.from(r):r instanceof Node||n(r)?i=[r]:e(r)?"loading"!==document.readyState?r.call(document,$):document.addEventListener("DOMContentLoaded",(()=>r.call(document,$)),{once:!0}):i=Array.from(r).filter(((t,e,r)=>r.indexOf(t)===e&&([1,9,11].includes(t.nodeType)||n(t))));let c=i.length;for(Object.defineProperty(this,"length",{get length(){return this.length},value:c});c--;)this[c]=i[c];return this}return new t(r,o)}));$.fn=t($.prototype),$.each=(t,e)=>{const n=Array.isArray(t)||void 0!==t.length,r=n?0:Object.keys(t),s=(n?t:r).length;for(let o,a=0;a<s&&(o=n?a:r[a],!1!==e.call(t[o],o,t[o]));a++);return t};var o=t=>0===t.indexOf("--")?t:t.replace(/-([\w])/g,((t,e)=>e.toUpperCase()));$.fn.data=function(t,e){if("object"==typeof t)e=t;else if(void 0!==e){let n={};n[t]=e,e=n}if(void 0!==e){let t=this.length;for(;t--;)$.each(e,((e,n)=>{this[t].dataset[o(e)]="object"==typeof n?JSON.stringify(n):n}));return this}if(this[0]&&this[0].dataset){let e=t=>{try{return JSON.parse(t)}catch(e){return t}};if(void 0===t){let t={};return $.each(this[0].dataset,((n,r)=>{t[n]=e(r)})),t}if(t=o(t),this[0].dataset.hasOwnProperty(t))return e(this[0].dataset[t])}},$.fn.each=function(t){return $.each(this,t),this},$.fn.get=function(t){return void 0===t?Array.from(this):this[t>=0?t:t+this.length]};var a=t=>["wheel","mousewheel","touchstart","touchmove"].includes(t);$.fn.add=function(t,e){return t=$(t,e).get(),$(Array.from(this).concat(t))};var i=(t,n,r,s)=>{let o,a=t.nodeType?[t]:Array.from(t);return"boolean"==typeof r&&(s=r,r=null),e(n)?o=n:(n="string"==typeof n?[n]:$(n,r).get(),o=(t,e)=>{let r=n.length;for(;r--;)if("string"==typeof n[r]?e.matches(n[r]):e===n[r])return!0;return!1}),a.filter(((t,e)=>o.call(t,e,t)===!s),a)};["parent","parents","parentsUntil"].forEach(((t,e)=>{const n=e>1;$.fn[t]=function(t,r){let s,o=[],a=this.length;for(;a--;)for(s=this[a].parentNode;s&&1===s.nodeType&&(!n||!i(s,t).length)&&(o.push(s),e);)s=s.parentNode;return n||(r=t),$(r?i(o,r):o)}})),["is","filter","not"].forEach(((t,e)=>{$.fn[t]=function(t){const n=i(this,t,e>1);return e?$(n):!!n.length}})),["on","one"].forEach((t=>{$.fn[t]=function(n,r,o,i){if(this.length){if(e(r)?(i=r,r=void 0):e(o)&&(i=o,o=void 0),!s(n)){const t=n;(n={})[t]=i}let c=this.length;for(;c--;)this[c].events||(this[c].events=[]),$.each(n,((e,n)=>{e.split(" ").forEach((e=>{const s={event:e,selector:r,data:o,callback:n,func:t=>{const e=r?$(r,t.currentTarget).filter($(t.target).parents().add(t.target)).get():[t.currentTarget];if(e.length){void 0===t.data?t.data=o:t._data=o;for(let r=0,s=e.length;r<s;r++){const s=Array.isArray(t.detail)?t.detail:[];!1===n.call(e[r],t,...s)&&(t.preventDefault(),t.stopPropagation())}}},once:"one"===t};this[c].events.push(s),this[c].addEventListener(e,s.func,{once:"one"===t,capture:!!r,passive:a(e)})}))}))}return this}}));var c=["focusin","focusout","focus","blur","resize","scroll","unload","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","contextmenu","change","select","keydown","keypress","keyup","error","submit"],l=(t,n,r)=>{let o=t.length,a=[];if(o){const i=e(n),c=i?0:s(n),l=e(r);for(;o--;)a[o]=i?n.call(t[o],o,l?r(t[o]):r):c?Object.create(n):n}return a};$.fn.attr=function(t,e){let n="string"!=typeof t,r={};return n||void 0!==e?(n||(r[t]=e,t=r),$.each(t,((t,e)=>{if(c.includes(t))this.on(t,e);else{let n=this.length,r=l(this,e,(e=>$(e).attr(t)));for(;n--;)switch(t){case"style":this[n].style.cssText=r[n];break;case"class":this[n].className=r[n];break;case"text":this[n].textContent=r[n];break;default:null===r[n]?this[n].removeAttribute(t):this[n].setAttribute(t,r[n])}}})),this):this[0]?"style"===t?this[0].style.cssText:"class"===t?this[0].className:this[0].getAttribute(t):void 0};var h=t=>{const e={for:"htmlFor",class:"className"};return["accessKey","accessKeyLabel","contentEditable","isContentEditable","tabIndex","assignedSlot","childElementCount","firstElementChild","lastElementChild","namespaceURI","outerHTML","readOnly","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","shadowRoot"].forEach((t=>e[t.toLowerCase()]=t)),t=t.toLowerCase(),e[t]||t};$.fn.prop=function(t,e){const n=s(t);if(void 0!==e||n){if(this[0]){if(!n){const n={};n[t]=e,t=n}$.each(t,((t,e)=>{t=h(t),e=l(this,e,(e=>e[t]));let n=this.length;for(;n--;)this[n][t]=e[n]}))}return this}if(this[0])return this[0][h(t)]},$.fn.trigger=function(t,n){let r=this.length;for(;r--;){let s=e(this[r][t]);if("submit"===t||!s){const e=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});this[r].dispatchEvent(e),e.defaultPrevented&&(s=!1)}s&&this[r][t]()}return this},$((()=>{const t=[],e=[];$("label[for][aria-expanded=true][aria-controls]").each((function(){const n=$(this),r=$(this).attr("aria-controls");if(!e.includes(r)){const s=$("#"+r),o=$("#"+n.attr("for")),a=o.get(0);if(o.on("change accessiblity.update",(t=>{const e=o.prop("checked");s.attr("aria-expanded",e?"true":"false").filter((()=>e)).attr("tabindex",-1),t.target===n.get(0)&&s.trigger("focus")})),a.name&&"radio"===a.type&&!t.includes(a.name)){const e=$("input[type=radio][name='"+a.name+"']");e.on("change",(()=>e.not(s).trigger("accessiblity.update"))),t.push(a.name)}e.push(r)}}))}));var f=t=>0===t.indexOf("--")?t:t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));let d;$.fn.css=function(t,e){if(void 0!==e||s(t))return((t,e,n)=>{if("string"==typeof e){const t=e;(e={})[t]=n}const r={};return $.each(e,((e,n)=>{e=f(e),r[e]=l(t,n,(t=>t.style.getPropertyValue(e)))})),$.each(r,((e,n)=>{let r=t.length;for(;r--;)t[r].style.setProperty(e,n[r]+(!n[r]||isNaN(n[r])?"":"px"))})),t})(this,t,e);if(this[0]){let e,n=t,r=getComputedStyle(this[0],""),s={},o=!1;for("string"==typeof n&&(t=[n],o=!0),e=t.length;e--;)if(s[t[e]]=r.getPropertyValue(f(t[e])),o)return s[t[e]];return s}},["width","innerWidth","outerWidth","height","innerHeight","outerHeight"].forEach(((t,e)=>{$.fn[t]=function(r){const s=e<3,o=s?"width":"height",a=s?"Width":"Height",i=e%3==1,c=e%3==2,h=i||c,f=s?["Left","Right"]:["Top","Bottom"];if(void 0!==r&&"boolean"!=typeof r){let e,n=l(this,r,(e=>$(e)[t]())),s=this.length,a=[];for(;s--;)h&&(f.forEach((t=>{a.push("padding"+t),c&&a.push("border"+t+"Width")})),isNaN(n[s])&&!n[s].includes("px")&&(this[s].style[o]=n[s],a.push(o),n[s]=0),e=getComputedStyle(this[s]),a.forEach((t=>n[s]-=parseFloat(e[t])))),this[s].style[o]=n[s]+(isNaN(n[s])?"":"px");return this}if(this[0]){if(9===this[0].nodeType)return this[0].documentElement["scroll"+a];if(!n(this[0])){let t=this[0][(c?"offset":"client")+a];if(!h||c&&!0===r){const e=getComputedStyle(this[0]);f.forEach((n=>t+=parseFloat(e[(h?"margin":"padding")+n])*(h?1:-1)))}return t}return i?this[0].document.documentElement["client"+a]:this[0]["inner"+a]}}})),$.extend=$.fn.extend=function(...t){if(!0===t[0]){if(r(t[1])||(t[1]={}),r(t[2]))for(const e in t[2])if("__proto__"!==e&&t[1][e]!==t[2][e]){const n=Array.isArray(t[2][e]);n||s(t[2][e])?t[1][e]=$.extend(!0,Array.isArray(t[1][e])===n?t[1][e]:n?[]:{},t[2][e]):t[1][e]=t[2][e]}return r(t[3])?$.extend(!0,t[1],...t.slice(3)):t[1]}return void 0===t[2]&&(t[2]=t[1],t[1]=this),Object.assign.apply(null,t)};var u=t=>(d||(d=document.createElement("a")),d.href=t,d.href);let p;var g=()=>{if(!p){const t=u($("script[src*='javascript/']").attr("src")).match(/^(.*)javascript\//);p=t[1]}return p};$.fn.has=function(t){const e=$(t).get();return $(Array.from(this).filter((t=>e.some((e=>t.contains(e))))))},$.fn.children=function(t){let e=[],n=this.length;for(;n--;)e=[...e,...this[n].children];return $(t?i(e,t):e)},$.fn.eq=function(t){return $(this[t<0?t+this.length:t])},c.forEach((t=>{$.fn[t]=function(e,n){return e?this.on(t,e,n):this.trigger(t)}}));var m,y=t=>{t.length&&$("tr",t).has("td > h3 > a").each((function(){const t=$(this),e=$("td",t),n=e.children("h3").children("a").eq(0);e.filter((function(){return!$("input,a,button,label",this).length})).add(n.parent().parent()).css("cursor","pointer").click((t=>{if("a"!==t.target.tagName.toLowerCase()){const t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});n.get(0).dispatchEvent(t)}}))}))};(m=$(".report__chart-canvas")).length&&import(g()+"javascript/chart.min.js?v=2.9.3").then((()=>{const t=window.matchMedia("print").matches;Chart.defaults.global.defaultFontFamily=$("body").css("font-family");const e=$("<h1>").appendTo("body"),n=e.css("font-family");e.remove(),Chart.defaults.global.defaultFontColor="#000",t&&(Chart.defaults.global.animation=0),m.each((function(){const t=$(this).data("chart"),e=m.width();"line"===t.type&&(t.options.scales.xAxes.map(((t,e)=>("time"===t.type&&(t.time.parser=t=>{const e={};return t=t.toString(),"yyyymmddhhiiss".split("").forEach(((n,r)=>{e[n]||(e[n]=""),t[r]&&(e[n]+=t[r])})),new Date(e.y,e.m-1,e.d,e.h,e.i,e.s)}),t))),t.options.scales.yAxes.map(((t,e)=>(t.suffix&&(t.ticks.callback=e=>e+t.suffix),"number"==typeof t.mindisplay&&(t.ticks.callback=e=>e<t.mindisplay?"":e),t))));const r=new Chart(this.getContext("2d"),{type:t.type,data:{labels:t.labels,datasets:t.data},options:$.extend(!0,{maintainAspectRatio:!1,animationSteps:60,tooltips:$.extend({mode:"index",position:"nearest",caretSize:10,backgroundColor:"#F8F8F8",titleFontFamily:n,titleFontSize:16,titleFontStyle:"normal",titleFontColor:"#000",titleSpacing:10,bodyFontSize:13,bodySpacing:10,bodyFontColor:"#000",cornerRadius:0,displayColors:!0,xPadding:10,yPadding:10},t.labels&&["pie","doughnut"].indexOf(t.type)>-1?{}:{callbacks:{title:e=>(t.titles||t.labels)[e[0].index],label:(e,n)=>n.datasets[e.datasetIndex].label+": "+(Number.isNaN(e.yLabel)?t.null:e.yLabel+(n.datasets[e.datasetIndex].suffix||""))}})},t.hrefs?{onClick:e=>{if(m.width()>500){const n=r.getElementAtEvent(e)[0];n&&t.hrefs[n._index]&&(window.location.href=t.hrefs[n._index])}}}:{},"radar"===t.type?{onResize:(t,e)=>{t.options.legend.labels.fontSize=e.width<=500?10:14},scale:{pointLabels:{callback:(t,e,n)=>{const r=m.width();return!(r<=500)&&(r<=1024&&t.length>20&&(t=t.slice(0,20)+"..."),e?e===n.length/2?["",t]:t:[t,""])},fontSize:14},gridLines:{color:"#CCC",circular:!0},ticks:{callback:(t,e)=>e?t:""}},legend:{labels:{fontSize:e<=500?10:14}}}:{},t.options)})}))})),(t=>{t.on("click",(function(t){const e=window.open($(this).attr("href"),"","left=0,top=0,width=800,height=600,toolbar=0,status=0");e.onload=()=>{e.setTimeout((()=>{e.focus(),e.print(),e.close()}),500)},t.preventDefault()}))})($("[data-print]")),y($(".report__section .cms-list__table"));var v=(t,e,n={})=>{const r=document.createElement("script");n=Object.assign({src:t,async:!0},n),Object.entries(n).forEach((([t,e])=>r[t]=e)),e&&r.addEventListener("load",e,{once:!0}),document.body.append(r)},b=t=>{t.length&&v(g()+"javascript/qrcode.js",(()=>{t.each((function(){const t=$(this).data("qrcode");QRCode.toCanvas(this,t,{margin:0,width:200})}))}))};$.map=(t,e)=>{let n=Object.keys(t),r=n.length,s=[],o=0;for(;o<r;o++){const r=e.call(window,t[n[o]],n[o]);null!=r&&(s=s.concat(Array.isArray(r)?r:[r]))}return s},$.fn.val=function(t){if(void 0!==t){let e=this.length,n=l(this,t,(t=>$(t).val()));for(;e--;){const t=Array.isArray(n[e]);this[e].type.includes("select")?(n[e]=(t?n[e]:[n[e]]).map((t=>""+t)),$("option",this[e]).each(((t,r)=>{r.selected=n[e].includes(r.value||r.text)}))):t?this[e].checked=n[e].includes(this[e].value):this[e].value=n[e]}return this}if(this[0]){if("select-multiple"===this[0].type){let t=[];return $("option",this[0]).each(((e,n)=>{n.selected&&t.push(""+n.value)})),t}if("checkbox"!==this[0].type||this[0].checked)return""+this[0].value}};const w=[];["removeClass","addClass","toggleClass"].forEach(((t,e)=>{w.push(t.slice(0,-5)),$.fn[t]=function(t,n){if(this[0]){let r=this.length,s=l(this,t,(t=>t.className)),o=e;for(e>1&&"boolean"==typeof n&&(o=0+n);r--;){"string"==typeof s[r]&&(s[r]=s[r].split(" "));for(let t=0,e=s[r].length;t<e;t++)this[r].classList[w[o]](s[r][t])}}return this}})),$.fn.index=function(t){if(this[0]){let e,n,r=this[0];for(void 0===t?e=this[0].parentNode.children:"string"==typeof t?e=$(t):(e=this,r=$(t)[0]),n=e.length;n--;)if(e[n]===r)return n}return-1};var x=(t,e)=>{if(t.length){const n=["Backspace","ArrowLeft","ArrowRight"];t.on("keydown",(t=>{!n.includes(t.key)&&Number.isNaN(parseInt(t.key))&&t.preventDefault()})).on("input",(function(n){const r=$(this),s=r.val();if(""!==s){s.length>1&&r.val(s.substr(0,1));const n=t.index(this);t[n+1]?t.eq(n+1).trigger("focus").get(0).select():e.addClass(e.get(0).classList[0]+"--loading").trigger("click")}})).on("keyup",(function(e){if(n.includes(e.key)){const n=t.index(this)-("ArrowRight"===e.key?-1:1);t[n]&&t.eq(n).trigger("focus").get(0).select()}})).eq(0).trigger("focus")}},k=()=>{b($("canvas[data-qrcode]")),x($(".mfa__code-input"),$(".mfa__code-submit")),(t=>{t.on("submit",(t=>{confirm("Are you sure you want to disable two-factor authentication?")||t.preventDefault()}))})($(".mfa__disable"))},_=t=>{t.on("change",(function(){$(this).parents("form").trigger("submit")}))};const C=(t,e)=>{if(Object.assign(e.dataset,t.dataset),t.events){const n=$(e);t.events.forEach((t=>{n.on(t.event,t.selector,t.data,t.callback)}))}};$.fn.clone=function(t=!1,e=null){null===e&&(e=t);let n=this.length,r=[];for(;n--;)if(r[n]=this[n].cloneNode(!0),t&&C(this[n],r[n]),e){const t=this[n].querySelectorAll("*"),e=r[n].querySelectorAll("*");let s=t.length;for(;s--;)C(t[s],e[s])}return $(r)},$.each({before:"beforeBegin",prepend:"afterBegin",append:"beforeEnd",after:"afterEnd"},((t,n)=>{const r=["prepend","after"].includes(t);$.fn[t]=function(...t){let s,o=this.length,a=o,i=e(t[0]);for(i||(s=t.reduce(((t,e)=>t.add(e)),$()));o--;){i&&(s=l([this[o]],t[0],(t=>t.innerHTML)).reduce(((t,e)=>t.add(e)),$()));let e=s.length,c=-1;for(;r?e--:++c<e;)this[o].insertAdjacentElement(n,o===a-1?s[r?e:c]:s.eq(r?e:c).clone(!0)[0])}return this}}));const A=(t,e,n)=>(t.length&&t.prepend($("<input/>",{type:"checkbox",value:"",class:t.attr("class")+"-switch",id:n}).prop("checked",e.is(":not(:checked)")?"":"checked").change((function(){e.prop("checked",$(this).is(":checked"))}))),t);$.fn.closest=function(t,e){let n=this.length,r=[];for(;n--;){let s=this[n];for(;s&&1===s.nodeType;){if(i(s,t,e).length){r.unshift(s);break}s=s.parentNode}}return $(r)};var E=t=>{t.length&&($("button[name=action][value=delete],button[name$='[action]'][value=delete]",t).on("click",(function(){const e=t.data("plural");return((t,e)=>{if(t.length){const n=e.indexOf("["),r=n>-1?e.substr(0,n)+"[select][]":"select[]";return $("input[name='"+r+"']",t).is(":checked")}return!1})(t,$(this).attr("name"))?window.confirm(`Are you sure you want to delete the selected ${e}?`):(alert(`Please select which ${e} you would like to delete`),!1)})),$("button[name=delete],button[name$='[delete]']",t).on("click",(function(){return window.confirm("Are you sure you want to delete this "+$(this).closest("[data-name]").data("name")+"?")})))},O=t=>{$("button[type=submit]:not([data-download]),input[type=submit]:not([data-download])",t).on("click",(function(e){const n=t.has(this).find("label[for]").attr("for");n&&$("#"+n).prop("checked",!1)}))},j=t=>{t.each((function(){const t=this.classList[0];new IntersectionObserver((e=>{e.forEach((e=>{$(e.target).toggleClass(t+"--float",e.intersectionRatio<1)}))}),{threshold:1}).observe(this)}))};$.each({prependTo:"prepend",appendTo:"append",insertBefore:"before",insertAfter:"after"},((t,e)=>{$.fn[t]=function(t){return $(t)[e](this),this}}));var T=t=>{if(t.length){y($(".cms-list__table",t)),A($(".cms-list__header-invert",t),$(".cms-list__select-checkbox",t)),E(t);const e="cms-export-invert",n=$("<label>",{for:e,class:"cms-controls__export-popup-invert",text:"Select All/None"});A(n,$("input[name='export[]']"),e).insertAfter("#cms-export ~ .cms-controls__export-popup h2")}O($(".cms-controls__function-popup")),(t=>{t.length&&$(document).on("click",(e=>{const n=$(e.target);n.is("label[for="+n.attr("id")+"]")||n.is(t)||!t.is(":checked")||t.prop("checked","")}))})($("#cms-tabs-switch")),j($(".cms-controls:not(.cms-controls--transparent)"))},S=(t,e)=>{t.on("keydown",(function(t){const n=$(this).data(e),r=$(n?"#"+n:null);r.length&&"Enter"===t.key&&(t.preventDefault(),r[0].click())}))};$.fn.text=function(t){let e=this.length,n=[];if(void 0!==t){const n=l(this,t,(t=>t.textContent));for(;e--;)this[e].textContent=n[e];return this}for(;e--;)n[e]=this[e].textContent;return n.join(" ")};var N=(t,e)=>{t.on("change",(function(){const t=$(this),n=[];this.files?$.each(this.files,((t,e)=>{n.push(e.name)})):n.push(t.val()),n.map((t=>{const e=t.lastIndexOf("\\");return e>-1&&(t=t.slice(e+1)),t})),t.parent().children(e).text(n.join(", "))}))};$.fn.find=function(t){return $(t,this)},["next","nextAll","nextUntil","prev","prevAll","prevUntil"].forEach(((t,e)=>{const n=e%3>1,r=(e<3?"next":"previous")+"ElementSibling";$.fn[t]=function(t,s){let o=[],a=0,c=this.length;for(;a<c;a++){let s=this[a][r];for(;s&&(!n||!i(s,t).length)&&(o.push(s),e%3!=0);)s=s[r]}return n&&(t=s),$(t?i(o,t):o)}}));const D=(t,e)=>{if(t.length){const n=new URLSearchParams(window.location.search.slice(1)),r=n.get("browse"),s=n.get("CKEditorFuncNum");window.opener&&["img","link"].indexOf(r)>-1&&s&&("img"===r?t.filter("[href*='.jpg'],[href*='.gif'],[href*='.png'],[href*='.svg']"):t).after($("<span>",{class:e,text:"Insert "+("img"===broowse?"Image":"Link"),click:function(){const t=$(this);window.opener.CKEDITOR.tools.callFunction(s,t.prev().attr("href").replace(/(_[^&]*&|\?_[^&]*)/,""),(function(){const e=this.getDialog();if("image"===e.getName()){const n=e.getContentElement("info","txtAlt");n&&n.setValue(t.closest("form").find("[data-browse=desc]").text())}})),window.close()}}))}};$.fn.empty=function(){let t=this.length;for(;t--;)for(;this[t].firstChild;)this[t].removeChild(this[t].firstChild);return this},["scrollLeft","scrollTop"].forEach(((t,e)=>{$.fn[t]=function(r){if(void 0!==r){let e=this.length,n=l(this,r,(e=>e[t]));for(;e--;)this[e][t]=n[e];return this}if(this[0])return this[0][n(this[0])?e?"pageYOffset":"pageXOffset":t]}}));var L=(t,e)=>{t.each((function(){let t,n=$(this),r=$(e+"-search-input",n),s=$(e+"-value",n),o=r.data("callback");r.on("keyup",(s=>{const a=r.val(),i=e+"-search-input--loading";(!a||a.length>2)&&a!==n.data("last-value")&&(r.addClass(i),window.clearTimeout(t),t=window.setTimeout((()=>{fetch(o+"&ss="+encodeURIComponent(a),{headers:{accept:"text/html"}}).then((t=>t.text())).then((t=>{$(e+"-results",n).empty().append(t).scrollTop(0),r.removeClass(i)}))}),500)),n.data("last-value",a)})).on("keypress",(t=>{if("Enter"===t.key)return!1})),n.on("click","li[data-id]",(function(){const t=$(this);s.val(t.data("id")).trigger("change"),$(e+"-label",n).text(t.text()),$(e+"-switch",n).prop("checked","")}))}))};function R(t,e){return Array.isArray(t)?!(!Array.isArray(e)||t.length!==e.length)&&t.every(((t,n)=>n in e&&R(t,e[n]))):([null,void 0].indexOf(t)>-1&&(t=""),[null,void 0].indexOf(e)>-1&&(e=""),t===e)}$.fn.off=function(t,n,r){if(this.length){if(e(n)&&(r=n,n=void 0),t&&"string"==typeof t){const e=t;(t={})[e]=r}let s=this.length;for(;s--;){let e=0;Array.from(this[s].events||[]).forEach(((r,o)=>{t?$.each(t,((t,i)=>{t.split(" ").some((t=>!(!r.event.includes(t)||n&&r.selector!==n||i&&r.callback.toString()!==i.toString())&&(this[s].removeEventListener(t,r.func,{capture:!!r.selector,passive:a(t)}),this[s].events.splice(o-e,1),e++,!0)))})):(this[s].removeEventListener(r.event,r.func,{capture:!!r.selector}),this[s].events=[])}))}}return this};var I=t=>{if(t.length){const e=[],n=$(window),r=t=>{t.preventDefault(),t.returnValue=""};$("input[name]:not([type=hidden]):not([type=submit]):not([data-notify-ignore]),textarea[name]:not([data-notify-ignore]),select[name]:not([data-notify-ignore])",t).on("change",(function(){let s,o=$(this),a=this.tagName.toLowerCase(),i=["radio","checkbox"].indexOf(this.type)>-1,c=i?o.filter(":checked").val():o.val();if("textarea"===a)s=o.text();else if("select"===a)if(this.multiple)s=[],$("option[selected]",o).each(((t,e)=>{const n=$(e),r=n.attr("value");void 0===typeof r&&(r=n.text()),s.push(r)}));else{const e=$("option[selected]",o).add("option",this);s=e.attr("value"),void 0===typeof t.attr("value")&&(s=e.eq(0).text())}else s=i?o.filter("[checked]").attr("value"):o.attr("value");const l=e.indexOf(this),h=R(s,c),f=e.length>0;!h&&l<0?e.push(this):h&&l>-1&&e.splice(l,1);const d=e.length>0;!f&&d?n.on("beforeunload",r):f&&!d&&n.off("beforeunload",r)})),t.on("submit",(function(){n.off("beforeunload",r)}))}};let M=!1;var P=t=>{if(t.length){const e=t.data("recaptcha");e&&(t.each((function(){const t=$(this),n=t.closest("form");let r;$("input[type=submit],button[name]:not([type=button]):not([type=reset])",n).on("click",(function(){r=this})),n.one("submit",(function(n){grecaptcha.ready((()=>{grecaptcha.execute(e,{action:"submit"}).then((e=>{t.val(e),this.requestSubmit(r)}))})),n.stopImmediatePropagation(),n.preventDefault()}))})),M||(M=!0,v("https://www.google.com/recaptcha/api.js?render="+e)))}},q=(t,e)=>{const n=["b","KB","MB","GB","TB"],r=n.length;let s=0;for(;t>=1024&&s<r;s+=1)t/=1024;return t.toFixed(0===s?0:e)+n[s]};$.fn.html=function(t){if(void 0!==t){let e=this.length,n=l(this,t,(t=>t.innerHTML));for(;e--;)this[e].innerHTML=n[e];return this}if(this[0])return this[0].innerHTML},$.param=t=>{let n=[],r=(t,n,s)=>{let o=Array.isArray(n);return o||"object"==typeof n?$.each(n,((e,n)=>{s=r(`${t}[${o?"":e}]`,n,s)})):(e(n)&&(n=n()),s.push(encodeURIComponent(t)+"="+encodeURIComponent(null===n?"":n))),s};return $.each(t,((t,e)=>{n=r(t,e,n)})),n.join("&")},$.ajax=(t,e)=>{null!==t&&"object"==typeof t?e=t:("object"!=typeof e&&(e={}),e.url=t),null==(e=Object.assign({method:"GET",cache:null,data:null,dataType:null,async:!0,crossDomain:!1,scriptAttrs:{},jsonp:"callback",jsonpCallback:"dabby"+Date.now(),headers:{"X-Requested-With":"XMLHttpRequest"},xhr:()=>new XMLHttpRequest,contentType:null,context:null,statusCode:{},username:null,password:null,xhrFields:{}},e)).url&&(e.url=location.href),e.dataType||"js"!==e.url.split("?")[0].split(".").pop()||(e.dataType="script");let n,r,o=["script","jsonp"].includes(e.dataType),a=e.url.includes("?")?"&":"?";if(e.data&&(r=s(e.data)?$.param(e.data):e.data,"GET"===e.method&&(e.url+=a+r,a="&",r=null)),(e.cache||null===e.cache&&o)&&(e.url+=a+"_="+ +new Date,a="&"),!o&&!e.crossDomain){const t=e.xhr(),n=(t,n,r)=>{let s;if("blob"===t.responseType)s=t.response;else if(s=t.responseText,["json",null,void 0].includes(e.dataType))try{s=JSON.parse(s)}catch(t){}[e.statusCode[t.status],e[n],e.complete].forEach(((n,o)=>{n&&n.apply(e.context||e,o<2?[s,r,t]:[t,r])}))};return $.each(e.xhrFields,((e,n)=>t[e]=n)),t.onload=()=>{const e=[200,204,304].includes(t.status)?"success":"error";n(t,e,e)},t.ontimeout=()=>{n(t,"error","timeout")},t.onabort=()=>{n(t,"error","abort")},t.onerror=()=>{n(t,"error","error")},t.open(e.method,e.url,e.async,e.username,e.password),"string"!=typeof r||e.contentType||(e.contentType="application/x-www-form-urlencoded; charset=UTF-8"),e.contentType&&(e.headers["Content-Type"]=e.contentType),$.each(e.headers,((e,n)=>{t.setRequestHeader(e,n)})),t.send(r),t}n=document.createElement("script"),$.each(e.scriptAttrs,((t,e)=>{n.setAttribute(t,e)})),"jsonp"===e.dataType&&(e.url+=a+e.jsonp+"="+e.jsonpCallback),$.each({load:"success",error:"error"},((t,r)=>{n.addEventListener(t,(()=>{const t="jsonp"===e.dataType&&window[e.jsonpCallback]||null;[e[r],e.complete].forEach((n=>{n&&n.apply(e.context||e,n===e.complete?[null,r]:[t,r])}))}),{once:!0})})),n.src=e.url,n.async=e.async,document.head.appendChild(n)},["detach","remove"].forEach(((t,e)=>{$.fn[t]=function(t){let n=this.length,r=[];for(;n--;)t&&!i(this[n],t).length||(e&&$(this[n]).off(),r.push(this[n].parentNode?this[n].parentNode.removeChild(this[n]):this[n]));return e?this:$(r)}}));let B,F,U=!1,z=!1;const H=(t,e,n,r)=>{n||(n=0),B||(B={title:$("<h3>",{class:"progress__title"}),progress:$("<div>",{class:"progress__percentage"}),text:$("<div>",{class:"progress__text"})},t.prepend($("<div>",{class:"progress"}).append($("<div>",{class:"progress__inner"}).append($("<button>",{class:"progress__cancel",text:"Cancel",click:t=>{F&&confirm("Are you sure you want to cancel?")&&F(),t.preventDefault()}})).append(B.title).append(B.progress).append(B.text)))),B.title.text(e+" ("+n.toFixed(0)+"%)"),B.progress.width(n.toFixed(0)+"%"),B.text.html(r)},J=(t,e)=>{fetch(e+(U?"&cancel":""),{headers:{accept:"application/json"}}).then((n=>{n.ok&&n.json().then((n=>{n.msg&&n.progress&&H(t,n.msg,n.progress,n.detail),z||window.setTimeout((()=>{J(t,e)}),1e3)}))})).catch((t=>{console.log(t)}))};var K=t=>{if(t.length){let e,n="input[type=submit],button[name]:not([type=button]):not([type=reset])";$(n,t).on("click",(function(){e=$(this)})),t.on("submit",(function(t){z=!1;let r,s,o=$(this),a=e.data("progress")||o.data("progress"),i=o.attr("action")||"",c=new FormData(this),l=[];c.append("redirect",u(i)),$("input[type=file]",o).each(((t,e)=>{$.each(e.files,((t,e)=>{l.push(e)}))})),(a||l.length)&&(e||(e=$(n,o)),s=e.attr("name"),s&&c.append(s,e.val()),r=$.ajax({url:i,method:"POST",data:c,contentType:null,xhr:()=>{let t=new XMLHttpRequest,e=0,n=(new Date).getTime()/1e3,r=0,s=0,i=[];return t.responseType="blob",t.upload.addEventListener("progress",(t=>{if(t.lengthComputable&&l.length&&t.loaded<t.total){let a,c,h,f,d=(new Date).getTime()/1e3,u=t.loaded/t.total*100;h="Uploading",t.loaded>l[s].size+r&&(r+=l[s].size,s<l.length-1&&(s+=1)),i.length>25&&i.shift(),i.push((t.loaded-e)/(d-n)),a=i.reduce(((t,e)=>t+e),0)/i.length,f='Uploading "'+l[s].name+'"<br />',f+="Sent "+q(t.loaded,2)+" of "+q(t.total,2),f+=" ("+q(a,2)+"ps)<br />",c=(t=>{const e=["day","hour","min","sec"],n=[86400,3600,60,1],r=n.length;let s,o=0,a="";for(;o<r&&(s=Math.floor(t/n[o]),!s||(a+=(""===a?"":", ")+s+" "+e[o]+(s>1?"s":""),t%=n[o]));o+=1);return a})((t.total-t.loaded)/a),c&&(f+="Estimated time remaining: "+c),H(o,h,u,f),n=d,e=t.loaded}else(l.length||a)&&(a?(H(o,"Preparing . . .",0,""),F=()=>{U=!0},J(o,a)):H(o,"Upload Complete",100))})),t},complete:t=>{z=!0,$(".progress",o).remove(),B=null;const e=t.getResponseHeader("Content-Disposition"),n=t.getResponseHeader("Content-Type"),r=URL.createObjectURL(t.response);if(e&&e.startsWith("attachment")){const t=e.split("filename=")[1]||null;if(t){const e=document.createElement("a");e.href=r,e.download=t,document.body.appendChild(e),e.click()}else location.assign(r)}else t.response.text().then((t=>{if(n&&n.startsWith("application/json")){const e=JSON.parse(t);location.assign(e.location||r)}else{const e=document.open();e.write(t),e.close()}}))},abort:()=>{z=!0,$(".progress",o).remove(),B=null}}),F=()=>{z=!0,r.abort(),$(".progress",o).remove(),B=null},t.preventDefault())}))}},Y=t=>{t.on("keypress",(function(t){["Enter"," "].indexOf(t.key)>-1&&$("#"+$(this).attr("for")).prop("checked",!0).trigger("change")}))},V=t=>{t.each((function(){const t=$(this),e=$("#"+t.data("filter")),n=e.children("optgroup"),r=()=>{const r=$("option:checked",t);n.each((function(){const t=$(this),e=t.attr("label"),n=""===r.val()?null:r.text();t.css("display",null!==n&&e!==n?"none":"")})),e.val("")};t.on("change",r),r()}))},W=t=>{t.each((function(){const t=$(this),e=t.attr("maxlength"),n=t.attr("class").split(" ")[0],r=$("."+n+"-chars-count",t.parent());t.on("input",(()=>{const n=t.val();n.length>e?(t.val(n.substring(0,e)),r.text(e)):r.text(n.length)}))}))};function X(t,e){let n=!0;const r=Object.assign({},e);return t.each((function(){const t=this.name,e=$(this).val(),s=this.type;if(!["checkbox","radio"].includes(s)||this.checked){const s=r[t];if(delete r[t],s!==e)return n=!1,!1}})),!Object.keys(r).length&&n}var G=t=>{t.each((function(){const t=$(this),e=$("input,textarea,select",this).get(0).form,n=t.data("show"),r=$(Object.keys(n).reduce(((t,e)=>(t?t+",":"")+"[name="+e+"]"),""),e);r.on("input",(function(){const e=X(r,n);t.css("display",e?"block":"none")}));const s=X(r,n);t.css("display",s?"block":"none")}))},Q=()=>{Y($("label[for][tabindex]")),S($("input[data-submit]"),"submit"),N($(".form__upload-control"),".form__upload-filename"),(t=>{if(t.length){const e=[],n=t=>{t.each(((t,n)=>{e.push(CKEDITOR.replace(n,$(n).data("editor")))}))};t.each(((t,n)=>{$(n).closest("form").on("submit",(()=>{e[t].updateElement()}))})),"undefined"!=typeof CKEDITOR?n(t):(window.CKEDITOR_BASEPATH=t.data("editor").baseHref+"javascript/ckeditor/",v(window.CKEDITOR_BASEPATH+"ckeditor.js",(()=>{CKEDITOR.config.allowedContent=!0,CKEDITOR.on("dialogDefinition",(t=>{if("image"===t.data.name){t.data.definition.removeContents("Link");const e=t.data.definition.getContents("info");e.remove("txtHSpace"),e.remove("txtVSpace"),e.remove("txtBorder")}})),n(t)})))}})($("textarea[data-editor]")),D($(".form__upload-file, .form__view-url-link"),"form__link-insert"),L($(".form__control-selectsearch"),".form__control-selectsearch"),(t=>{t.each(((t,e)=>{const n=$(e),r=n.attr("id");$("label[for="+r+"]",n.parent()).on("click",(()=>{$("input[type=checkbox]",n).each(((t,e)=>{const n=$(e);n.prop("checked",!n.is(":checked"))}))}))}))})($(".form__wrapper fieldset[id]")),V($("select[data-filter]")),I($("form[method=post]")),P($("input[data-recaptcha]")),K($("form[data-progress], form[enctype='multipart/form-data']")),W($("textarea[maxlength]")),G($(".form__wrapper[data-show]"))},Z=t=>{t.each((function(){let t=null;const e=$(this),n=this.classList[0],r=$("."+n+"__switch",e),s=r.length-1,o=()=>{null===t&&(t=setInterval((()=>{const t=r.index(r.filter(":checked")),e=t>-1?t:0,n=e<s?e+1:0;r.eq(n).prop("checked",!0).trigger("change")}),8e3))};$(window).on("load",(()=>{e.on("mouseleave touchend",o).on("mouseover touchstart",(()=>{clearInterval(t),t=null})),r.on("change",(function(){const t=$(this).next().get(0).scrollHeight;e.css("height",t)})),r.eq(0).prop("checked",!0).trigger("change"),o()}))}))};$.fn.hasClass=function(t){let e=this.length;for(;e--;)if(this[e].classList.contains(t))return!0;return!1};var tt=t=>{const e=[],n=t.get(0).classList[0],r=$("."+n+"__search"),s=$("."+n+"__category",t),o=$("."+n+"__item",t),a=n+"__item--hide";o.each((function(){const t=$(this);e.push({obj:t,text:t.text().toLowerCase()})})),r.on("keyup",(()=>{const t=r.val().toLowerCase().split(/\s+/).filter((t=>t.length>2));$.each(e,((e,n)=>{let r=!0;t.length&&(r=!0,$.each(t,((t,e)=>{if(-1===n.text.indexOf(e))return r=!1,n.obj.addClass(a),!1}))),r&&n.obj.removeClass(a)})),s.each((function(){const e=o.filter(((t,e)=>(e=$(e)).closest(this).length&&!e.hasClass(a))).length;$(".faqs__switch",this).prop("checked",e&&t.length?"checked":"").trigger("change"),$(".faqs__heading-found",this).text(e)}))}))},et=t=>{t.each((function(){const t=$(this),e=$("#"+t.attr("aria-controls"));$("#"+t.attr("for")).on("change",(function(){requestAnimationFrame((()=>{e.css("max-height","none"),e.css("height",e.get(0).scrollHeight),this.checked?setTimeout((()=>e.css("height","")),500):requestAnimationFrame((()=>e.css("height",0)))}))}))}))};$.isPlainObject=s;var nt=t=>{t.each((function(){const t=$(this).data("hashform")||{};for(const[e,n]of Object.entries(t)){$("#"+e).on("change",(function(){if(this.checked)if($.isPlainObject(n)){for(const[t,e]of Object.entries(n))if($("#"+t).prop("checked")){$("#"+e).prop("checked",!0).trigger("change");break}}else $("#"+n).prop("checked",!0).trigger("change")}))}}))};function rt(t,e,n,r,s){const o=1/(s+s+1);for(let a=0;a<r;a++){let r=a*n,i=r,c=r+s,l=t[r],h=t[r+n-1],f=(s+1)*l;for(let e=0;e<s;e++)f+=t[r+e];for(let n=0;n<=s;n++)f+=t[c++]-l,e[r++]=f*o;for(let a=s+1;a<n-s;a++)f+=t[c++]-t[i++],e[r++]=f*o;for(let n=0;n<s;n++)f+=h-t[i++],e[r++]=f*o}}function st(t,e,n,r,s){const o=1/(s+s+1);for(let a=0;a<n;a++){let i=a,c=i,l=i+s*n,h=t[i],f=t[i+n*(r-1)],d=(s+1)*h;for(let e=0;e<s;e++)d+=t[i+e*n];for(let r=0;r<=s;r++)d+=t[l]-h,e[i]=d*o,l+=n,i+=n;for(let a=s+1;a<r-s;a++)d+=t[l]-t[c],e[i]=d*o,c+=n,l+=n,i+=n;for(let r=0;r<s;r++)d+=f-t[c],e[i]=d*o,c+=n,i+=n}}var ot=(t,e,n)=>{const r=document.createElement("canvas"),s=r.getContext("2d"),o=new ImageData(t,e),a=o.data;r.width=t,r.height=e;for(let t=0;t<n.length;t++)a[4*t]=n[t],a[4*t+1]=n[t],a[4*t+2]=n[t],a[4*t+3]=255;return s.putImageData(o,0,0),document.body.appendChild(r),r},at=t=>{const e=t.length,n=Math.sqrt(e),r=Array(e);for(let e=0;e<n;e++)for(let s=0;s<n;s++)r[e*n+s]=t[(n-s-1)*n+e];return r},it=t=>{const e=t.length,n=Math.sqrt(e);let r=[];for(let e=0;e<n;e++)r=r.concat(t.slice(e*n,(e+1)*n).reverse());return r},ct=t=>{const e=[...t].sort(((t,e)=>t-e))[127],n=new Uint8Array(32);return t.forEach(((t,r)=>{n[Math.floor(r/8)]|=(t>e?1:0)<<r%8})),n},lt=t=>Array.from(t,(t=>("0"+(255&t).toString(16)).slice(-2))).reverse().join("");const ht=.299,ft=.587,dt=.114;var ut=(t,e)=>{const n=(e=Object.assign({debug:!1,passes:2,block:64,transform:!1},e)).block,r=e.debug,s=t.width,o=t.height;let a;return new Promise((e=>{r&&document.body.appendChild(t),e(t.getContext("2d").getImageData(0,0,s,o).data)})).then((t=>{const e=(t=>{const e=Array(t.length/4);for(let n=0;n<t.length/4;n++)e[n]=ht*t[4*n]+ft*t[4*n+1]+dt*t[4*n+2];return e})(t);return r&&ot(s,o,e),e})).then((t=>{const n=((t,e,n,r)=>{const s=Array(t.length);for(var o=0;o<t.length;o++)s[o]=t[o];const a=Math.round(e/128/r),i=Math.round(e/128/r);for(let o=0;o<r;o++)rt(t,s,e,n,a),st(s,t,e,n,i);return t})(t,s,o,e.passes);return r&&ot(s,o,n),n})).then((t=>{const e=((t,e,n,r)=>{const s=new Uint8Array(n*n),o=t/n/2,a=e/n/2;for(let i=0;i<n;i++){const c=Math.round(i*t/n+o);for(let o=0;o<n;o++){const l=Math.round(o*e/n+a);s[o*n+i]=r[l*t+c]}}return s})(s,o,n,t);return r&&ot(n,n,e),e})).then((t=>(a=((t,e)=>{let n=0;for(let r=0;r<t-1;r++)for(let s=0;s<t;s++){const o=e[r*t+s],a=e[(r+1)*t+s],i=parseInt(100*(o-a)/255);n+=parseInt(Math.abs(i))}for(let r=0;r<t;r++)for(let s=0;s<t-1;s++){const o=e[r*t+s],a=e[r*t+s+1],i=parseInt(100*(o-a)/255);n+=parseInt(Math.abs(i))}return Math.min(parseInt(n/90),100)})(n,t),t))).then((t=>{const e=(t=>{const e=Array(1024).fill(0),n=Array(125).fill(0),r=Array(1024).fill(0),s=Math.sqrt(2/64);for(let t=0;t<16;t++)for(let n=0;n<64;n++)e[64*t+n]=s*Math.cos(Math.PI/2/64*(t+1)*(2*n+1));for(let n=0;n<16;n++)for(let s=0;s<64;s++){let o=0;for(let r=0;r<64;r++)o+=e[64*n+r]*t[64*r+s];r[64*n+s]=o}for(let t=0;t<16;t++)for(let s=0;s<16;s++){let o=0;for(let n=0;n<64;n++)o+=r[64*t+n]*e[64*s+n];n[16*t+s]=o}return n})(t);return r&&console.log(e),e})).then((t=>{const n={original:t};return e.transform&&(n.rot90=at(t),n.flip=it(t),n.rot180=at(n.rot90),n.rot270=at(n.rot180),n.fliprot90=at(n.flip),n.fliprot180=at(n.fliprot90),n.fliprot270=at(n.fliprot180)),r&&console.log(n),n})).then((t=>{const n=[];for(const e in t){const r=ct(t[e]),s=lt(r);n.push(s)}return{type:"pdq",hash:e.transform?n:n[0],quality:a}}))};
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.8.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */
!function(){var t="input is invalid type",e="object"==typeof window,n=e?window:{};n.JS_MD5_NO_WINDOW&&(e=!1);var r=!e&&"object"==typeof self,s=!n.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;s?n=global:r&&(n=self);var o,a=!n.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,i="function"==typeof define&&define.amd,c=!n.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),h=[128,32768,8388608,-2147483648],f=[0,8,16,24],d=["hex","array","digest","buffer","arrayBuffer","base64"],u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),p=[];if(c){var g=new ArrayBuffer(68);o=new Uint8Array(g),p=new Uint32Array(g)}var m=Array.isArray;!n.JS_MD5_NO_NODE_JS&&m||(m=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var y=ArrayBuffer.isView;!c||!n.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&y||(y=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var v=function(e){var n=typeof e;if("string"===n)return[e,!0];if("object"!==n||null===e)throw new Error(t);if(c&&e.constructor===ArrayBuffer)return[new Uint8Array(e),!1];if(!m(e)&&!y(e))throw new Error(t);return[e,!1]},b=function(t){return function(e){return new k(!0).update(e)[t]()}},w=function(e){var r,s=require("crypto"),o=require("buffer").Buffer;r=o.from&&!n.JS_MD5_NO_BUFFER_FROM?o.from:function(t){return new o(t)};return function(n){if("string"==typeof n)return s.createHash("md5").update(n,"utf8").digest("hex");if(null==n)throw new Error(t);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),m(n)||y(n)||n.constructor===o?s.createHash("md5").update(r(n)).digest("hex"):e(n)}},x=function(t){return function(e,n){return new _(e,!0).update(n)[t]()}};function k(t){if(t)p[0]=p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0,this.blocks=p,this.buffer8=o;else if(c){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}function _(t,e){var n,r=v(t);if(t=r[0],r[1]){var s,o=[],a=t.length,i=0;for(n=0;n<a;++n)(s=t.charCodeAt(n))<128?o[i++]=s:s<2048?(o[i++]=192|s>>>6,o[i++]=128|63&s):s<55296||s>=57344?(o[i++]=224|s>>>12,o[i++]=128|s>>>6&63,o[i++]=128|63&s):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++n)),o[i++]=240|s>>>18,o[i++]=128|s>>>12&63,o[i++]=128|s>>>6&63,o[i++]=128|63&s);t=o}t.length>64&&(t=new k(!0).update(t).array());var c=[],l=[];for(n=0;n<64;++n){var h=t[n]||0;c[n]=92^h,l[n]=54^h}k.call(this,e),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=e}k.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e=v(t);t=e[0];for(var n,r,s=e[1],o=0,a=t.length,i=this.blocks,l=this.buffer8;o<a;){if(this.hashed&&(this.hashed=!1,i[0]=i[16],i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),s)if(c)for(r=this.start;o<a&&r<64;++o)(n=t.charCodeAt(o))<128?l[r++]=n:n<2048?(l[r++]=192|n>>>6,l[r++]=128|63&n):n<55296||n>=57344?(l[r++]=224|n>>>12,l[r++]=128|n>>>6&63,l[r++]=128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),l[r++]=240|n>>>18,l[r++]=128|n>>>12&63,l[r++]=128|n>>>6&63,l[r++]=128|63&n);else for(r=this.start;o<a&&r<64;++o)(n=t.charCodeAt(o))<128?i[r>>>2]|=n<<f[3&r++]:n<2048?(i[r>>>2]|=(192|n>>>6)<<f[3&r++],i[r>>>2]|=(128|63&n)<<f[3&r++]):n<55296||n>=57344?(i[r>>>2]|=(224|n>>>12)<<f[3&r++],i[r>>>2]|=(128|n>>>6&63)<<f[3&r++],i[r>>>2]|=(128|63&n)<<f[3&r++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),i[r>>>2]|=(240|n>>>18)<<f[3&r++],i[r>>>2]|=(128|n>>>12&63)<<f[3&r++],i[r>>>2]|=(128|n>>>6&63)<<f[3&r++],i[r>>>2]|=(128|63&n)<<f[3&r++]);else if(c)for(r=this.start;o<a&&r<64;++o)l[r++]=t[o];else for(r=this.start;o<a&&r<64;++o)i[r>>>2]|=t[o]<<f[3&r++];this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this},k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>>2]|=h[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},k.prototype.hash=function(){var t,e,n,r,s,o,a=this.blocks;this.first?e=((e=((t=((t=a[0]-680876937)<<7|t>>>25)-271733879|0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&t)+a[1]-117830708)<<12|r>>>20)+t|0)&(-271733879^t))+a[2]-1126478375)<<17|n>>>15)+r|0)&(r^t))+a[3]-1316259209)<<22|e>>>10)+n|0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((r=this.h3)^e&(n^r))+a[0]-680876936)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[1]-389564586)<<12|r>>>20)+t|0)&(t^e))+a[2]+606105819)<<17|n>>>15)+r|0)&(r^t))+a[3]-1044525330)<<22|e>>>10)+n|0),e=((e+=((t=((t+=(r^e&(n^r))+a[4]-176418897)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[5]+1200080426)<<12|r>>>20)+t|0)&(t^e))+a[6]-1473231341)<<17|n>>>15)+r|0)&(r^t))+a[7]-45705983)<<22|e>>>10)+n|0,e=((e+=((t=((t+=(r^e&(n^r))+a[8]+1770035416)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[9]-1958414417)<<12|r>>>20)+t|0)&(t^e))+a[10]-42063)<<17|n>>>15)+r|0)&(r^t))+a[11]-1990404162)<<22|e>>>10)+n|0,e=((e+=((t=((t+=(r^e&(n^r))+a[12]+1804603682)<<7|t>>>25)+e|0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+a[13]-40341101)<<12|r>>>20)+t|0)&(t^e))+a[14]-1502002290)<<17|n>>>15)+r|0)&(r^t))+a[15]+1236535329)<<22|e>>>10)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[1]-165796510)<<5|t>>>27)+e|0)^e))+a[6]-1069501632)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[11]+643717713)<<14|n>>>18)+r|0)^r))+a[0]-373897302)<<20|e>>>12)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[5]-701558691)<<5|t>>>27)+e|0)^e))+a[10]+38016083)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[15]-660478335)<<14|n>>>18)+r|0)^r))+a[4]-405537848)<<20|e>>>12)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[9]+568446438)<<5|t>>>27)+e|0)^e))+a[14]-1019803690)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[3]-187363961)<<14|n>>>18)+r|0)^r))+a[8]+1163531501)<<20|e>>>12)+n|0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+a[13]-1444681467)<<5|t>>>27)+e|0)^e))+a[2]-51403784)<<9|r>>>23)+t|0)^t&((n=((n+=(t^e&(r^t))+a[7]+1735328473)<<14|n>>>18)+r|0)^r))+a[12]-1926607734)<<20|e>>>12)+n|0,e=((e+=((o=(r=((r+=((s=e^n)^(t=((t+=(s^r)+a[5]-378558)<<4|t>>>28)+e|0))+a[8]-2022574463)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[11]+1839030562)<<16|n>>>16)+r|0))+a[14]-35309556)<<23|e>>>9)+n|0,e=((e+=((o=(r=((r+=((s=e^n)^(t=((t+=(s^r)+a[1]-1530992060)<<4|t>>>28)+e|0))+a[4]+1272893353)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[7]-155497632)<<16|n>>>16)+r|0))+a[10]-1094730640)<<23|e>>>9)+n|0,e=((e+=((o=(r=((r+=((s=e^n)^(t=((t+=(s^r)+a[13]+681279174)<<4|t>>>28)+e|0))+a[0]-358537222)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[3]-722521979)<<16|n>>>16)+r|0))+a[6]+76029189)<<23|e>>>9)+n|0,e=((e+=((o=(r=((r+=((s=e^n)^(t=((t+=(s^r)+a[9]-640364487)<<4|t>>>28)+e|0))+a[12]-421815835)<<11|r>>>21)+t|0)^t)^(n=((n+=(o^e)+a[15]+530742520)<<16|n>>>16)+r|0))+a[2]-995338651)<<23|e>>>9)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[0]-198630844)<<6|t>>>26)+e|0)|~n))+a[7]+1126891415)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[14]-1416354905)<<15|n>>>17)+r|0)|~t))+a[5]-57434055)<<21|e>>>11)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[12]+1700485571)<<6|t>>>26)+e|0)|~n))+a[3]-1894986606)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[10]-1051523)<<15|n>>>17)+r|0)|~t))+a[1]-2054922799)<<21|e>>>11)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[8]+1873313359)<<6|t>>>26)+e|0)|~n))+a[15]-30611744)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[6]-1560198380)<<15|n>>>17)+r|0)|~t))+a[13]+1309151649)<<21|e>>>11)+n|0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+a[4]-145523070)<<6|t>>>26)+e|0)|~n))+a[11]-1120210379)<<10|r>>>22)+t|0)^((n=((n+=(t^(r|~e))+a[2]+718787259)<<15|n>>>17)+r|0)|~t))+a[9]-343485551)<<21|e>>>11)+n|0,this.first?(this.h0=t+1732584193|0,this.h1=e-271733879|0,this.h2=n-1732584194|0,this.h3=r+271733878|0,this.first=!1):(this.h0=this.h0+t|0,this.h1=this.h1+e|0,this.h2=this.h2+n|0,this.h3=this.h3+r|0)},k.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return l[t>>>4&15]+l[15&t]+l[t>>>12&15]+l[t>>>8&15]+l[t>>>20&15]+l[t>>>16&15]+l[t>>>28&15]+l[t>>>24&15]+l[e>>>4&15]+l[15&e]+l[e>>>12&15]+l[e>>>8&15]+l[e>>>20&15]+l[e>>>16&15]+l[e>>>28&15]+l[e>>>24&15]+l[n>>>4&15]+l[15&n]+l[n>>>12&15]+l[n>>>8&15]+l[n>>>20&15]+l[n>>>16&15]+l[n>>>28&15]+l[n>>>24&15]+l[r>>>4&15]+l[15&r]+l[r>>>12&15]+l[r>>>8&15]+l[r>>>20&15]+l[r>>>16&15]+l[r>>>28&15]+l[r>>>24&15]},k.prototype.toString=k.prototype.hex,k.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&n,n>>>8&255,n>>>16&255,n>>>24&255,255&r,r>>>8&255,r>>>16&255,r>>>24&255]},k.prototype.array=k.prototype.digest,k.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.base64=function(){for(var t,e,n,r="",s=this.array(),o=0;o<15;)t=s[o++],e=s[o++],n=s[o++],r+=u[t>>>2]+u[63&(t<<4|e>>>4)]+u[63&(e<<2|n>>>6)]+u[63&n];return t=s[o],r+=u[t>>>2]+u[t<<4&63]+"=="},_.prototype=new k,_.prototype.finalize=function(){if(k.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();k.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(t),k.prototype.finalize.call(this)}};var C=function(){var t=b("hex");s&&(t=w(t)),t.create=function(){return new k},t.update=function(e){return t.create().update(e)};for(var e=0;e<d.length;++e){var n=d[e];t[n]=b(n)}return t}();C.md5=C,C.md5.hmac=function(){var t=x("hex");t.create=function(t){return new _(t)},t.update=function(e,n){return t.create(e).update(n)};for(var e=0;e<d.length;++e){var n=d[e];t[n]=x(n)}return t}(),a?module.exports=C:(n.md5=C,i&&define((function(){return C})))}();var pt=(t,e,n)=>{e=Object.assign({resize:512,debug:!1,max:20},e);for(const e of t.get(0).files)(e.type.includes("image/")||e.type.includes("video/"))&&n.every((t=>!["lastModified","name","size","type"].every((n=>t[n]===e[n]))))&&n.push(e);return new Promise(((r,s)=>{if(n.length<=e.max){let s=0,o=0,a=performance.now();const i=()=>{s++;const e=100/o*s,n=performance.now()-a;t.trigger("hash.progress",{remain:(n/s*o-n)/1e3,percentage:e})},c=[];n.filter((t=>0===(t.hashes||[]).length)).forEach(((t,n)=>{t.hashes=[],t.type.includes("image/")?(o+=3,c.push(new Promise((e=>{const n=URL.createObjectURL(t),r=new Image;r.onload=()=>{e(r),URL.revokeObjectURL(n)},r.src=n})).then((t=>((t,e,n)=>{const r=document.createElement("canvas"),s=r.getContext("2d");return r.imageSmoothingQuality="high",r.width=e,r.height=n,s.drawImage(t,0,0,t.width,t.height,0,0,e,n),r})(t,e.resize,e.resize))).then((n=>(i(),ut(n,e).then((e=>{i(),t.hashes.push(e)})).then((()=>((t,e)=>new Promise(((n,r)=>{const s=()=>{PhotoDnaChrysalisHash(t).then((t=>n(t))).catch((t=>r(t)))};"function"!=typeof PhotoDnaChrysalisHash?v(e.base+"javascript/build/photodna.js",s):s()})))(n,e).then((e=>{i(),t.hashes.push({type:"pdna",hash:e.data[1]?.PhotoDna||e.data[0].PhotoDna})}))))))))):t.type.includes("video/")&&(o++,c.push(new Promise((e=>{(t=>new Promise((e=>{const n=new FileReader;n.onload=t=>{const n=new Uint8Array(t.target.result);e(md5(n))},n.readAsArrayBuffer(t)})))(t).then((n=>{i(),t.hashes.push({type:"md5",hash:n}),e()}))}))))})),Promise.all(c).then((()=>r(n)))}else s()}))};let gt=[];const mt=()=>gt;$.fn.map=function(t){let e=this.length,n=$(),r=0;for(;r<e;r++)n=n.add($(t.call(this[r],r,this[r])));return n},$.fn.position=function(){if(this[0])return{left:this[0].offsetLeft,top:this[0].offsetTop}};var yt=(t,e)=>{$(".msg",t).remove(),e&&($(".hashform__item-heading",t).eq(0).after($("<div>",{class:"msg msg--error",text:e})),window.scroll({top:t.position().top,behavior:"smooth"}))},vt=t=>{const e=t.map(((t,e)=>$(e).next())),n=(t,e)=>t.attr("aria-hidden",(t=>t!==e)).attr("aria-current",(t=>t===e));let r=t.index(":checked");t.on("change",(function(){let s,o=!0,a=r>-1?$(e[r]):null,i="hashform__control--error",c=t.index(this);r>-1&&c>r&&$("input,textarea,select",a).each((function(){const e=$(this);this.reportValidity()?e.removeClass(i):(e.addClass(i),t.eq(r).prop("checked",!0),o=!1,s||(s=e.data("error")))})),o&&(r=c,window.scroll({top:$(e[r]).position().top,behavior:"smooth"})),yt(a,s),n(e,r)})),r>-1?n(e,r):t.eq(0).prop("checked",!0).trigger("change")},bt=t=>{t.each((function(){const t=$(this),e=t.data("mirror");e&&t.on("change",(()=>{const t=$("#"+e);this.value?t.text("password"===this.type?"*".repeat(this.value.length):this.value).parent().parent().css("display",""):t.parent().parent().css("display","none")}))}))},wt=(t,e)=>{t.on("click",(n=>{let r=!0,s="hashform__control--error",o=mt(),a="download__loader",i="hashform__item",c=grecaptcha.getResponse();if($("input,textarea,select",".hashform").each((function(){const t=$(this);if(this.reportValidity())t.removeClass(s);else{t.addClass(s);const e=t.closest("."+i);e.prev().prop("checked",!0),r&&yt(e,t.data("error")),r=!1}})),0===o.length)$("#hashform-images").prop("checked",!0).trigger("change");else if(c){if(r){const n={yes:"Yes",no:"No",unknown:"DontKnow"},r={me:"PersonInContent:Yes",mefriend:"PersonInContentMeAndSomeone:Yes"},s={emailAddress:$("#email").val(),hashRecords:o.map((t=>({fileName:t.name,hashValue:t.hashes.filter((t=>["pdq","md5"].includes(t.type)))[0].hash,photoDNAHash:t.hashes.filter((t=>"pdna"===t.type))[0]?.hash||null,signalType:"md5"===t.hashes.filter((t=>["pdq","md5"].includes(t.type)))[0].type?3:1}))),lcidCode:$("#lcid").val(),PIN:$("#pin").val(),tags:[r[$("input[name=who]:checked").val()],"IntimatePosition:"+($("#act-yes:checked").length?"Yes":"No"),"ContentSharedOnline:"+(n[$("input[name=shared]:checked").val()]||n.unknown),"NudeOrSeminude:"+($("#nudity-nude:checked").length?"Yes":"No"),$("#location-private:checked").length?"InPrivatePlace:Yes":"InPublicPlace:Yes"],token:grecaptcha.getResponse()},c=t.closest("."+i),l=i+"--loading";return t.addClass(a),c.addClass(l),fetch(e.endpoint,{method:"POST",headers:{"Content-Type":"application/json","Ocp-Apim-Subscription-Key":e.subscriptionkey},body:JSON.stringify(s)}).then((t=>{if(!t.ok)throw new Error(e.error);return t.json()})).then((t=>{$("#hashform-casenumber").text(t.caseId),$("#hashform-complete").prop("checked",!0).trigger("change")})).catch((t=>{yt(c,t)})).finally((()=>{t.removeClass(a),c.removeClass(l)}))}}else $(".hashform__recaptcha").addClass("hashform__recaptcha--error");n.preventDefault()}))};function xt(t){const e=document.createElement("a");return e.href=t,e.protocol+"//"+e.host+e.pathname+e.search+e.hash}var kt=t=>{t.length&&t.filter("[data-copy]").on("click",(function(t){const e=$(this),n=e.data("copy"),r=$(n),s=n.indexOf("[");if(r.length){let t;if(s>-1){const e=n.split("[")[0===s?0:1].slice(0,-1);t=r.attr(e),["href","src","action","poster"].indexOf(e)>-1&&(t=xt(t))}else r.children().length?($("*",r).each((function(){["href","src","action","poster"].forEach((t=>{this[t]&&(this[t]=xt(this[t]))}))})),t=r.html()):t=r.text();navigator.clipboard.writeText(t).then((()=>{const t=e.text();e.text("Copied "),setTimeout((()=>e.text(t)),5e3)})).catch((t=>{e.text("Error"),console.error("Your browser doesn't support this command or you have not granted permissions: "+t.message)}))}t.preventDefault()}))},_t=()=>{const t=$(".hashform");if(t.length){const r=t.data("config");vt($("input[name=hashform-page]",t)),nt($("[data-hashform]",t)),((t,e)=>{const n=$("#hashform-processing"),r=$(".hashform__processing-heading"),s=$(".hashform__processing-progress"),o=$(".hashform__processing-remain"),a=$("#hashform-table"),i=$("#hashform-images-review");t.on("change",(function(){n.prop("checked",!0),pt(t,t.data("hash"),gt.filter(Boolean)).then((t=>{if(gt=t,gt.length){const t=$("<table>",{class:"hashform__table"}).append($("<tr>").append($("<th>",{text:e.translations.filename})).append($("<th>",{text:e.translations.hash})).append($("<th>",{text:e.translations.remove}).css("text-align","center")));gt.forEach(((e,n)=>{const r=$("<tr>").append($("<td>").append($("<h3>",{text:e.name,class:"hashform__table-heading icon-"+(e.type.includes("video/")?"video":"img")}))).append($("<td>",{text:e.hashes[0].hash.substring(0,8)+"xxxxxxxx"})).append($("<td>").append($("<div>",{class:"hashform__table-remove icon-close",text:"Remove",click:()=>{delete gt[n],r.remove(),0===gt.filter(Boolean).length&&(t.remove(),$("#hashform-images").prop("checked",!0).trigger("change"),i.addClass("hashform__link--hide"))}})));t.append(r)})),a.empty().append(t),$("#hashform-access").prop("checked",!0).trigger("change"),i.removeClass("hashform__link--hide")}n.prop("checked",!1)})).catch((t=>{n.prop("checked",!1),$("#hashform-error").prop("checked",!0)}))})),t.on("hash.progress",(t=>{r.text(Math.round(t.detail.percentage)+"%"),s.prop("value",t.detail.percentage),o.text(Math.round(t.detail.remain)+" secs")}))})($("input[type=file][data-hash]",t),r),bt($("[data-mirror]",t)),e=$(".hashform__recaptcha",t).get(0),n=r.recaptcha,window.hashRecaptchaCallback=()=>{grecaptcha.render(e,{sitekey:n})},v("https://www.google.com/recaptcha/api.js?render=explicit&onload=hashRecaptchaCallback"),wt($("#hashform-submit"),r),kt($(".hashform__casenumber-copy",t))}var e,n};$((()=>{_($("#account-select")),k(),Z($(".hub-carousel")),(t=>{if(t.length){const e=t.get(0).classList[0];et($("."+e+"__category-label",t)),tt(t)}})($(".faqs")),T($("#form-cms")),Q(),_t()}));